### What's new in the Android 8.1 Developer Preview

#### Summary
<br> Android 8.1 Oreo contains a targeted set of enhancements, including optimization for Android Go and a new Neural Networks API. We also include a few small enhancements in response to the user and developer feedback.

#### Optimization for Android Go
<br> Android 8.1 includes memory optimization for Android Go - hardware that has one gigabyte or less of ram. For example, NotificationListenerService and ConditionProviderService will not be supported on low-ram devices. In addition, we have added new hardware feature constants that you can now target the distribution of your apps and apk splits to normal or low-ram devices if they're running in Android 8.1 or later.

#### Machine Learning
<br> We have been working hard to bring on-device machine intelligence to mobile with features such as Now Playing and Google lens. The new Neural networks API lays the foundation for our developer community to build accelerated on-device applications of machine learning, including image recognition and prediction. The Neural Network API runtime is designed to efficiently distribute the computation workload across available on-device processors, including dedicated neural network hardware, graphic processing units and digital signal processors. For devices that lack a specialized vendor driver or hardware, the runtime relies on optimized code to execute requests on the CPU. It's unlikely that most apps will use neural network api directly. They will instead rely on higher-level machine learning framework, such as TensorFlow Lite or Caffe 2. TensorFlowLite is Google's cross-platform open source framework designed to execute deep trained neural networks in mobile environments and it's scheduled to be released soon, so make sure to stay tuned. We are also investing to bring the benefits of deep learning to more developers, so we intend to release a library to make common ML user cases easily available on mobile devices.

#### Shared Memory API
<br> Android 8.1 Oreo adds a new Shared Memory API. This new API enables the creation of anonymous shared memory instance. You can mmap the shared memory object into a local byte buffer and read and write it like any other byte buffer. The memory protection can be controlled on the shared object. Since the shared memory object is parcelable, you can easily pass it to another process through AIDL. The remote process can then map any part of the memory it wants, and once access is no longer needed, just unmap the buffer. The Shared Memory API also supports interoperability with the NDK using a shared memory. We can mmap the FD and then read and write. It's a great way to share data between multiple processes, within a single app, or even between apps.

#### Autofill Refinement
<br> We have added some polish and refinement to Autofill. Most of the changes are on the Autofill service side. For example, the Save UI now supports custom descriptions. So when asking to save credit card data, the service can request a displayable logo representing the type of credit card, the last four digits of the card number, and an expiration date. This helps the user to understand exactly what is being saved. One minor change for apps that want to support Autofill is that base adapter and its derived classes such as ArrayAdapter, now support setting Autofill options. This makes it easier to provide Autofill data for simple custom adapters, such as one used to set credit card expiration dates. In Android 8.0, you would need to override the getAutofill method options in the adapter, but now in 8.1, you can just call setAutofillOptions. And in another helpful touch, the API 27 version of the support library, view compat now wraps the Autofill methods to make it easier to give hints to the Autofil service, which you really should do. One more Autofill note - consider setting up an association between your app and your website. This allows the Autofill service to share passwords between the two, whether you run Android 8.0 or Android 8.1.

#### New APIs in Wallpaper Manager
<br> Android 8.1 includes the new APIs in the wallpaper manager to get the most representative colors from the current wallpaper. And the system UI and Pixel launcher will adjust the colors they use based upon this API. If you have made a live wallpaper, you notify the wallpaper service whenever your colors change significantly, returning them in the onComputeColors() method. We recommend using the utility functions within the WallpaperColors class to automatically select these colors from a representative bitmap or drawable.

#### Other changes
<br> Some other changes you might be interested in - EditText now returns an Editable rather than a CharSequence. Your app can determine how it responds to a known threat from the WebView implementation of the SafeBrowsing API. The MediaMetadataRetriver class has a new method, getScaledFrameAtTime(), that finds a frame near a given time position and returns a bitmap with the same aspect ratio as the source frame, but at the requested size. If you have any Pixel or Pixel2 devices, we support requesting a-audio-sharing mode exclusive in some cases, which provides reduced audio latency. Better yet, we have released a preview of the Oboe library, which allows applications to target A-Audio on API 26+ devices and open SL on previous versions of Android to get the best latency with a simplified API surface in a compatible way. If you have a Pixel2, you will notice a developer setting in Android 8.1 for Camera HAL HDR+. This enables you to test an early version of HDR+ with Pixel Visual Core, Google's first custom designed co-processor for consumer products. Note that HDR+ will only be enabled for specific Camera and Camera2 API options. If you have an eligible Pixel or Nexus device, you can enroll it in Android Beta to get the latest update, but we also have Android 8.1 emulator images. This gives you the opportunity to fix any issues and update your app before consumers get their hands on 8.1. You can find out more about everything we covered, including the preview developer program here. Happy coding.


#### Reference
[Youtube video](https://www.youtube.com/watch?v=ldwJA_9AIww)